'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createGraph = createGraph;

var _graphlib = require('graphlib');

function createGraph(nodes, edges) {
  var G = new _graphlib.Graph({ directed: true, multigraph: true });

  edges.forEach(function (edge) {
    G.setEdge(edge.source, edge.target, { data: edge }, edge.type);
  });

  G.nodes().forEach(function (u) {
    return G.setNode(u, { data: {} });
  });

  nodes.forEach(function (node) {
    if (G.hasNode(node.id)) {
      G.node(node.id).data = node;

      // XXX should be configurable?
      if (node.direction !== undefined) G.node(node.id).direction = node.direction;
    }
  });

  // Add references to the source and target details of each edge.
  G.edges().forEach(function (e) {
    G.edge(e).source = G.node(e.v);
    G.edge(e).target = G.node(e.w);
  });

  return G;
}